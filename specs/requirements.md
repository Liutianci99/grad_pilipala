# 功能需求文档

本文档按角色划分，描述系统中每个页面的功能。

---

## 一、管理员（admin）

### 1. 用户管理 `/admin/user-management`
- 查看所有用户列表
- 按角色筛选（管理员/商户/消费者/配送员）
- 搜索用户（用户名/姓名）
- 创建新用户（用户名、密码、姓名、角色、手机号）
- 编辑用户信息
- 删除用户

### 2. 订单管理 `/admin/order-management`
- 查看所有订单列表
- 按状态筛选（待确认/已确认/已发货/运输中/已到达/已完成）
- 搜索订单（订单号/商品名）
- 修改订单状态（下拉选择）
- 删除订单

### 3. 数据分析 `/admin/data-analysis`
- 数据概览卡片（用户总数、订单总数、总营收、活跃商户数）
- 用户角色分布（各角色人数）
- 订单状态分布（各状态数量）
- 近7天订单趋势（柱状图）

---

## 二、商户（merchant）

### 1. 商城 `/general/mall`
- 浏览所有商品列表（卡片展示：图片、名称、价格、库存）
- 搜索商品
- 商户可以下架自己的商品（跳转下架页面）

### 2. 库存管理 `/merchant/inventory-management`
- 查看自己的商品库存列表
- 搜索商品
- 上架新商品（跳转上架页面：商品名、价格、库存、描述、仓库选择）
- 入库操作（跳转入库页面：选择商品、输入数量、选择仓库）
- 编辑商品信息
- 删除商品

### 3. 商品上架 `/merchant/product-listing`
- 填写商品信息（名称、价格、库存数量、描述）
- 选择仓库
- 提交上架

### 4. 商品下架 `/merchant/product-delisting`
- 确认下架商品
- 显示商品信息
- 提交下架

### 5. 商品入库 `/merchant/stock-in`
- 选择已有商品
- 输入入库数量
- 选择目标仓库
- 提交入库

### 6. 订单管理 `/merchant/order-management`
- 查看自己的订单列表
- 按状态筛选
- 搜索订单
- 确认订单（待确认 → 已确认）
- 发货操作（已确认 → 已发货）

### 7. 物流查询 `/merchant/logistics-query`
- 查看自己订单的物流信息列表
- 搜索订单
- 按状态筛选
- 点击查看物流详情（地图 + 路线 + 时间线 + 实时追踪）

---

## 三、消费者（consumer）

### 1. 商城 `/general/mall`
- 浏览所有商品列表
- 搜索商品
- 购买商品（选择数量、选择收货地址、提交订单）

### 2. 我的订单 `/consumer/my-orders`
- 查看自己的订单列表
- 按状态筛选
- 搜索订单
- 查看订单详情（商品、数量、金额、状态）

### 3. 地址管理 `/consumer/address-management`
- 查看收货地址列表
- 添加新地址（收货人、手机号、省市区、详细地址）
- 编辑地址
- 删除地址
- 设置默认地址

### 4. 物流查询 `/consumer/logistics-query`
- 查看自己订单的物流信息列表
- 搜索订单
- 按状态筛选
- 点击查看物流详情（地图 + 路线 + 时间线 + 实时追踪）

---

## 四、配送员（driver）

### 1. 待揽收 `/driver/pending-pickup`
- 查看待揽收的包裹列表
- 搜索包裹
- 执行揽收操作（标记为已揽收）

### 2. 待送货 `/driver/pending-delivery`
- 查看待配送的订单列表
- 搜索订单
- 创建配送批次（选择多个订单 → 组成一个批次）

### 3. 运输批次 `/driver/delivery-batch`
- 查看自己的配送批次列表
- 按状态筛选（进行中/已完成）
- 点击查看批次详情

### 4. 批次详情 `/driver/delivery-batch-detail`
- 查看批次内的所有订单
- 完成配送操作（标记批次为已完成）

### 5. 历史任务 `/driver/history-tasks`
- 查看已完成的配送批次列表
- 搜索历史批次
- 查看历史批次详情

---

## 通用页面

### 登录页 `/`
- 输入用户名、密码
- 选择角色（管理员/商户/消费者/配送员）
- 登录后跳转到对应角色的首页
- 底部两个按钮并排：登录 + 注册（跳转注册页）

### 注册页 `/register`
- 输入用户名、密码、确认密码
- 选择角色（商户/消费者/配送员，不允许注册管理员）
- 注册成功后自动登录并跳转到对应角色首页
- 底部链接跳转回登录页

### 主框架 `/demo`
- 深色侧边栏（根据角色显示不同菜单）
- 白色内容区
- 面包屑导航
- 用户信息卡片 + 登出按钮
